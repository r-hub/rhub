<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started with R-hub v2 • rhub</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Get started with R-hub v2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rhub</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rhubv2.html">Get started with R-hub v2</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Releases</li>
    <li>
      <a href="https://blog.r-hub.io/2024/04/11/rhub2/" class="external-link">rhub 2.0.0 blog post</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-hub/rhub/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started with R-hub v2</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-hub/rhub/blob/main/vignettes/rhubv2.Rmd" class="external-link"><code>vignettes/rhubv2.Rmd</code></a></small>
      <div class="hidden name"><code>rhubv2.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="r-hub-v2">R-hub v2<a class="anchor" aria-label="anchor" href="#r-hub-v2"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>R-hub v2, i.e. version 2 or later of the rhub package, is a
completely new check system. In this article we highlight the
differences between the old and the new system.</p>
<p>There are two ways to use R-hub v2. The recommended way is to store
your R package in a GitHub repository and use the <code>rhub_*()</code>
functions to start checks on GitHub Actions, using your own GitHub
account.</p>
<p>Alternatively, if you don’t want to store your R package at GitHub,
you can use the <code>rc_*()</code> functions to run checks in a shared
GitHub organization at <a href="https://github.com/r-hub2" class="external-link uri">https://github.com/r-hub2</a>, using the R Consortium
runners. See more about the R Consortium runners below.</p>
</div>
<div class="section level3">
<h3 id="transitioning-from-r-hub-v1">Transitioning from R-hub v1<a class="anchor" aria-label="anchor" href="#transitioning-from-r-hub-v1"></a>
</h3>
<div class="section level4">
<h4 id="requirements-for-using-r-hub-v2">Requirements for using R-hub v2<a class="anchor" aria-label="anchor" href="#requirements-for-using-r-hub-v2"></a>
</h4>
<ul>
<li>First, you need a GitHub account.</li>
<li>Second, you need to have your R package in a GitHub repository. In
your local git clone make sure that the <code>origin</code> git remote
is set to the GitHub repository.</li>
<li>Third, you need a GitHub <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" class="external-link">Personal
Access Token</a> and you need to store it in the git credential store on
your machine. You can use <code><a href="https://gitcreds.r-lib.org/reference/gitcreds_get.html" class="external-link">gitcreds::gitcreds_set()</a></code> to add
the token to the git credential store.</li>
</ul>
<p>Call <code><a href="../reference/rhub_setup.html">rhub_setup()</a></code> from the local git clone to set up
R-hub v2 for your package. This adds a GitHub Actions workflow to your
local repository. Push this change to GitHub, into your default git
branch and then you are ready to call start checks with
<code><a href="../reference/rhub_check.html">rhub_check()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="differences-from-r-hub-v1">Differences from R-hub v1<a class="anchor" aria-label="anchor" href="#differences-from-r-hub-v1"></a>
</h4>
<ul>
<li>The check picks up the package from GitHub, so it does not use
changes in your local git clone. You need to push the changes to GitHub
first. You can use a non-default branch, with the <code>branch</code>
argument of <code><a href="../reference/rhub_check.html">rhub_check()</a></code>.</li>
<li>You won’t get an email about the check results. But you’ll receive
regular GitHub notifications about check failures, unless you opt out.
Github can also turn these into emails if you like.</li>
<li>There is no live output from the check at the R console. See the
‘Actions’ tab of your repository on GitHub for a live check log.</li>
<li>Many more specialized platforms are available.</li>
<li>Most platforms use binary packages, so checks and in particular
installing dependencies is much faster.</li>
</ul>
</div>
<div class="section level4">
<h4 id="private-repositories">Private repositories<a class="anchor" aria-label="anchor" href="#private-repositories"></a>
</h4>
<p>GitHub Actions is free for public repositories. For private
repositories you also get some minutes for free, depending on the GitHub
subscription you have. See <a href="https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions" class="external-link">About
billing for GitHub Actions</a> for details.</p>
</div>
<div class="section level4">
<h4 id="branches">Branches<a class="anchor" aria-label="anchor" href="#branches"></a>
</h4>
<p>You can run checks on any branch that you push to GitHub, but you’ll
need to add the R-hub workflow file
(<code>.github/workflows/rhub.yaml</code> within your repo) must be
present in <strong>both</strong> the default branch (usually
<code>main</code>) and also in the branch you want to run the check
on.</p>
</div>
</div>
<div class="section level3">
<h3 id="the-r-consortium-runners">The R Consortium runners<a class="anchor" aria-label="anchor" href="#the-r-consortium-runners"></a>
</h3>
<p>If you don’t want to put your package on GitHub, you can still use
the rhub package to run package checks on any supported platform using a
shared pool of runners in the <a href="https://github.com/r-hub2" class="external-link uri">https://github.com/r-hub2</a> GitHub organization.</p>
<p>The process is similar to the first version of R-hub:</p>
<ul>
<li><p>Set your working directory to the R package you want to
check.</p></li>
<li>
<p>Obtain a token from R-hub, to verify your email address:</p>
<pre><code><span><span class="fu"><a href="../reference/rc_new_token.html">rc_new_token</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>(You do not need to do this, if you already submitted packages to a
previous version of R-hub from the same machine, using the same email
address. Call <code><a href="../reference/rc_list_local_tokens.html">rc_list_local_tokens()</a></code> to check if you
already have tokens.)</p>
</li>
<li>
<p>Submit a build with</p>
<pre><code><span><span class="fu"><a href="../reference/rc_submit.html">rc_submit</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</li>
<li><p>Select the platforms you want to use, and follow the instructions
and the link provided to see your check results.</p></li>
</ul>
<div class="section level4">
<h4 id="limitations-of-the-r-consortium-runners">Limitations of the R Consortium runners<a class="anchor" aria-label="anchor" href="#limitations-of-the-r-consortium-runners"></a>
</h4>
<ul>
<li>You package will be public for the world, and will be stored in the
<a href="https://github.com/r-hub2" class="external-link uri">https://github.com/r-hub2</a> organization. Your check
output and results will be public for anyone with a GitHub account. If
you want to keep your package private, you can put it in a private
GitHub repository, and use the <code><a href="../reference/rhub_setup.html">rhub_setup()</a></code> and
<code><a href="../reference/rhub_check.html">rhub_check()</a></code> functions instead.</li>
<li>The R Consortium runners are shared among all users, so you might
need to wait for your builds to start.</li>
<li>You have to wait at least five minutes between submissions with
<code><a href="../reference/rc_submit.html">rc_submit()</a></code>.</li>
<li>Currently you need to create a GitHub account to see the check logs
of your package. You don’t need a GitHub account to submit the
checks.</li>
</ul>
<p>To avoid these limitations (except for the need for a GitHub
account), put your package in a GitHub repository, and use the
<code><a href="../reference/rhub_setup.html">rhub_setup()</a></code> and <code><a href="../reference/rhub_check.html">rhub_check()</a></code> functions
instead of <code><a href="../reference/rc_submit.html">rc_submit()</a></code> and the R Consortium runners.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Gábor Csárdi, Maëlle Salmon, <a href="https://www.r-consortium.org/" class="external-link"><img src="https://www.r-consortium.org/wp-content/uploads/sites/13/2016/09/RConsortium_Horizontal_Pantone.png" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
